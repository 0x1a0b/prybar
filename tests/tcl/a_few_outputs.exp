#!/usr/bin/expect -f

set timeout -1
spawn ./prybar-tcl -q -i
match_max 100000
expect -exact "\[J\[2K\r-->  "
send -- "p"
expect -exact "\[J\[2K\r--> p"
send -- "u"
expect -exact "\[J\[2K\r--> pu"
send -- "t"
expect -exact "\[J\[2K\r--> put"
send -- "s"
expect -exact "\[J\[2K\r--> puts"
send -- " "
expect -exact "\[J\[2K\r--> puts "
send -- "\""
expect -exact "\[J\[2K\r--> puts \""
send -- "h"
expect -exact "\[J\[2K\r--> puts \"h"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"he"
send -- "y"
expect -exact "\[J\[2K\r--> puts \"hey"
send -- "\""
expect -exact "\[J\[2K\r--> puts \"hey\""
send -- "\r"
expect -exact "\[J\[2K\r--> puts \"hey\"\[J\[2K\r--> puts \"hey\"\r
hey\r\r
\r
\[J\[2K\r-->  "
send -- "p"
expect -exact "\[J\[2K\r--> p"
send -- "u"
expect -exact "\[J\[2K\r--> pu"
send -- "t"
expect -exact "\[J\[2K\r--> put"
send -- "s"
expect -exact "\[J\[2K\r--> puts"
send -- " "
expect -exact "\[J\[2K\r--> puts "
send -- "\""
expect -exact "\[J\[2K\r--> puts \""
send -- "h"
expect -exact "\[J\[2K\r--> puts \"h"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"he"
send -- "y"
expect -exact "\[J\[2K\r--> puts \"hey"
send -- "\""
expect -exact "\[J\[2K\r--> puts \"hey\""
send -- "\r"
expect -exact "\[J\[2K\r--> puts \"hey\"\[J\[2K\r--> puts \"hey\"\r
hey\r\r
\r
\[J\[2K\r-->  "
send -- "p"
expect -exact "\[J\[2K\r--> p"
send -- "u"
expect -exact "\[J\[2K\r--> pu"
send -- "t"
expect -exact "\[J\[2K\r--> put"
send -- "s"
expect -exact "\[J\[2K\r--> puts"
send -- " "
expect -exact "\[J\[2K\r--> puts "
send -- "\""
expect -exact "\[J\[2K\r--> puts \""
send -- "h"
expect -exact "\[J\[2K\r--> puts \"h"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"he"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"hee"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"heee"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"heeee"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"heeeee"
send -- "e"
expect -exact "\[J\[2K\r--> puts \"heeeeee"
send -- "y"
expect -exact "\[J\[2K\r--> puts \"heeeeeey"
send -- "\""
expect -exact "\[J\[2K\r--> puts \"heeeeeey\""
send -- "\r"
expect -exact "\[J\[2K\r--> puts \"heeeeeey\"\[J\[2K\r--> puts \"heeeeeey\"\r
heeeeeey\r\r
\r
\[J\[2K\r-->  "
send -- ""
expect eof
