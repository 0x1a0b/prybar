#!/usr/bin/expect -f

set timeout -1
spawn ./prybar-tcl -q -i
match_max 100000
expect -exact "--> "
send -- "p"
expect -exact "\r--> p\[0K\r\[5C"
send -- "u"
expect -exact "\r--> pu\[0K\r\[6C"
send -- "t"
expect -exact "\r--> put\[0K\r\[7C"
send -- "s"
expect -exact "\r--> puts\[0K\r\[8C"
send -- " "
expect -exact "\r--> puts \[0K\r\[9C"
send -- "\""
expect -exact "\r--> puts \"\[0K\r\[10C"
send -- "h"
expect -exact "\r--> puts \"h\[0K\r\[11C"
send -- "e"
expect -exact "\r--> puts \"he\[0K\r\[12C"
send -- "y"
expect -exact "\r--> puts \"hey\[0K\r\[13C"
send -- "\""
expect -exact "\r--> puts \"hey\"\[0K\r\[14C"
send -- "\r"
expect -exact "\r--> puts \"hey\"\[0K\r\[14C\r
hey\r\r
\r
--> "
send -- "p"
expect -exact "\r--> p\[0K\r\[5C"
send -- "u"
expect -exact "\r--> pu\[0K\r\[6C"
send -- "t"
expect -exact "\r--> put\[0K\r\[7C"
send -- "s"
expect -exact "\r--> puts\[0K\r\[8C"
send -- " "
expect -exact "\r--> puts \[0K\r\[9C"
send -- "\""
expect -exact "\r--> puts \"\[0K\r\[10C"
send -- "h"
expect -exact "\r--> puts \"h\[0K\r\[11C"
send -- "e"
expect -exact "\r--> puts \"he\[0K\r\[12C"
send -- "y"
expect -exact "\r--> puts \"hey\[0K\r\[13C"
send -- "\""
expect -exact "\r--> puts \"hey\"\[0K\r\[14C"
send -- "\r"
expect -exact "\r--> puts \"hey\"\[0K\r\[14C\r
hey\r\r
\r
--> "
send -- "p"
expect -exact "\r--> p\[0K\r\[5C"
send -- "u"
expect -exact "\r--> pu\[0K\r\[6C"
send -- "t"
expect -exact "\r--> put\[0K\r\[7C"
send -- "s"
expect -exact "\r--> puts\[0K\r\[8C"
send -- " "
expect -exact "\r--> puts \[0K\r\[9C"
send -- "h"
expect -exact "\r--> puts h\[0K\r\[10C"
send -- "e"
expect -exact "\r--> puts he\[0K\r\[11C"
send -- "e"
expect -exact "\r--> puts hee\[0K\r\[12C"
send -- "e"
expect -exact "\r--> puts heee\[0K\r\[13C"
send -- "e"
expect -exact "\r--> puts heeee\[0K\r\[14C"
send -- "e"
expect -exact "\r--> puts heeeee\[0K\r\[15C"
send -- "e"
expect -exact "\r--> puts heeeeee\[0K\r\[16C"
send -- "y"
expect -exact "\r--> puts heeeeeey\[0K\r\[17C"
send -- "\r"
expect -exact "\r--> puts heeeeeey\[0K\r\[17C\r
heeeeeey\r\r
\r
--> "
send -- ""
expect eof
