#!/usr/bin/expect -f

set timeout -1
spawn ./prybar-tcl -q -i
match_max 100000
expect -exact "\[J\[2K\r-->  "
send -- "s"
expect -exact "\[J\[2K\r--> s"
send -- "e"
expect -exact "\[J\[2K\r--> se"
send -- "t"
expect -exact "\[J\[2K\r--> set"
send -- " "
expect -exact "\[J\[2K\r--> set "
send -- "i"
expect -exact "\[J\[2K\r--> set i"
send -- "n"
expect -exact "\[J\[2K\r--> set in"
send -- "p"
expect -exact "\[J\[2K\r--> set inp"
send -- " "
expect -exact "\[J\[2K\r--> set inp "
send -- "\["
expect -exact "\[J\[2K\r--> set inp \["
send -- "g"
expect -exact "\[J\[2K\r--> set inp \[g"
send -- "e"
expect -exact "\[J\[2K\r--> set inp \[ge"
send -- "t"
expect -exact "\[J\[2K\r--> set inp \[get"
send -- "s"
expect -exact "\[J\[2K\r--> set inp \[gets"
send -- " "
expect -exact "\[J\[2K\r--> set inp \[gets "
send -- "s"
expect -exact "\[J\[2K\r--> set inp \[gets s"
send -- "t"
expect -exact "\[J\[2K\r--> set inp \[gets st"
send -- "d"
expect -exact "\[J\[2K\r--> set inp \[gets std"
send -- "i"
expect -exact "\[J\[2K\r--> set inp \[gets stdi"
send -- "n"
expect -exact "\[J\[2K\r--> set inp \[gets stdin"
send -- "\]"
expect -exact "\[J\[2K\r--> set inp \[gets stdin\]"
send -- "\r"
expect -exact "\[J\[2K\r--> set inp \[gets stdin\]\[J\[2K\r--> set inp \[gets stdin\]\r
"
send -- "helloooooo\r"
expect -exact "helloooooo\r
helloooooo\r
\[J\[2K\r-->  "
send -- "p"
expect -exact "\[J\[2K\r--> p"
send -- "u"
expect -exact "\[J\[2K\r--> pu"
send -- "t"
expect -exact "\[J\[2K\r--> put"
send -- "s"
expect -exact "\[J\[2K\r--> puts"
send -- " "
expect -exact "\[J\[2K\r--> puts "
send -- "\$"
expect -exact "\[J\[2K\r--> puts \$"
send -- "i"
expect -exact "\[J\[2K\r--> puts \$i"
send -- "n"
expect -exact "\[J\[2K\r--> puts \$in"
send -- "p"
expect -exact "\[J\[2K\r--> puts \$inp"
send -- "\r"
expect -exact "\[J\[2K\r--> puts \$inp\[J\[2K\r--> puts \$inp\r
helloooooo\r\r
\r
\[J\[2K\r-->  "
send -- ""
expect eof
